# ==============================================
# TIP - Travel Intelligence & Planner
# Environment Configuration Template
# ==============================================
# Copy this file to .env and fill in your actual values
# NEVER commit .env to git (already in .gitignore)

# ==============================================
# SUPABASE (Database & Authentication)
# ==============================================
# Get these from: https://app.supabase.com/project/YOUR_PROJECT/settings/api
#
# 1. SUPABASE_URL: Your project URL (e.g., https://xxxxx.supabase.co)
# 2. SUPABASE_ANON_KEY: Public anonymous key (safe for frontend)
# 3. SUPABASE_SERVICE_ROLE_KEY: Secret service role key (backend only, NEVER expose to frontend)
# 4. SUPABASE_JWT_SECRET: JWT secret for token verification (Settings > API > JWT Secret)
# 5. DATABASE_URL: Postgres connection string (Settings > Database > Connection string > URI)
#    Format: postgresql://postgres:[YOUR-PASSWORD]@db.xxxxx.supabase.co:5432/postgres

SUPABASE_URL=https://your-project.supabase.co
SUPABASE_ANON_KEY=your_supabase_anon_key_here
SUPABASE_SERVICE_ROLE_KEY=your_supabase_service_role_key_here
SUPABASE_JWT_SECRET=your_jwt_secret_here
DATABASE_URL=postgresql://postgres:your_password@db.xxxxx.supabase.co:5432/postgres

# ==============================================
# REDIS & CELERY (Task Queue)
# ==============================================
# For local development: redis://localhost:6379
# For production (Upstash): redis://:password@endpoint:port
# CELERY uses same Redis instance as broker and result backend

REDIS_URL=redis://localhost:6379
CELERY_BROKER_URL=redis://localhost:6379/0
CELERY_RESULT_BACKEND=redis://localhost:6379/0

# ==============================================
# WEATHER API
# ==============================================
# Decision: WeatherAPI.com (Primary)
# Get API key from: https://www.weatherapi.com/
# Free tier: 1,000,000 calls/month with 3-day forecast
# Docs: https://www.weatherapi.com/docs/
# API Format: http://api.weatherapi.com/v1/current.json?key={key}&q={location}&aqi=no

WEATHERAPI_KEY=your_weatherapi_key_here

# Visual Crossing (Legacy - kept for reference)
# Get API key from: https://www.visualcrossing.com/weather-api
# Free tier: 1,000 records/day
VISUAL_CROSSING_API_KEY=your_visual_crossing_api_key_here

# ==============================================
# CURRENCY API
# ==============================================
# Decision: Fixer.io (or ExchangeRate-API as backup)
# Fixer: Get API key from https://fixer.io/
# ExchangeRate-API: Get API key from https://www.exchangerate-api.com/

CURRENCY_API_KEY=your_fixer_api_key_here
CURRENCY_API_BASE_URL=https://api.fixer.io/v1
# Alternative: CURRENCY_API_BASE_URL=https://v6.exchangerate-api.com/v6

# ==============================================
# FLIGHT API
# ==============================================
# Decision: Skyscanner (MVP) or Amadeus (Production)
# Skyscanner: https://rapidapi.com/skyscanner/api/skyscanner-api
# Amadeus: https://developers.amadeus.com/

FLIGHT_API_KEY=your_flight_api_key_here
FLIGHT_API_BASE_URL=https://skyscanner-api.p.rapidapi.com
# Alternative: FLIGHT_API_BASE_URL=https://api.amadeus.com/v2

# ==============================================
# VISA & ENTRY REQUIREMENTS API
# ==============================================
# Decision: Sherpa API (preferred) or IATA Travel Centre
# Sherpa: https://apply.joinsherpa.com/travel-restrictions
# IATA: https://www.iatatravelcentre.com/

VISA_API_KEY=your_sherpa_or_iata_api_key_here
VISA_API_BASE_URL=https://requirements-api.joinsherpa.com/v3
# Alternative: VISA_API_BASE_URL=https://api.iatatravelcentre.com

# ==============================================
# MAP PROVIDER
# ==============================================
# Decision: Mapbox (DR-002)
# Get API key from: https://account.mapbox.com/access-tokens/
# Free tier: 50,000 loads/month
# Docs: https://docs.mapbox.com/

MAPBOX_ACCESS_TOKEN=your_mapbox_access_token_here
MAPBOX_STYLE_URL=mapbox://styles/mapbox/streets-v12

# ==============================================
# ATTRACTIONS & POINTS OF INTEREST API
# ==============================================
# Decision: OpenTripMap API (Free)
# Get API key from: https://opentripmap.io/product
# Free tier: Available with registration
# Docs: https://opentripmap.io/docs
# Data: 10M+ tourist attractions worldwide from OpenStreetMap, Wikidata, Wikipedia

OPENTRIPMAP_API_KEY=your_opentripmap_api_key_here

# ==============================================
# SCRAPING SERVICES
# ==============================================

# Firecrawl (Fallback/Critical only - Layer 3)
# Get API key from: https://www.firecrawl.dev/
# Free tier: 500 pages/month
FIRECRAWL_API_KEY=your_firecrawl_api_key_here
FIRECRAWL_API_BASE_URL=https://api.firecrawl.dev/v1

# Apify (News, TripAdvisor - Layer 2)
# Get API key from: https://console.apify.com/
# Free tier: $5/month
APIFY_API_KEY=your_apify_api_key_here

# Proxy (Optional - for Layer 1 custom scrapers)
# Only needed if using proxy rotation for Playwright scrapers
HTTP_PROXY_URL=
PROXY_USERNAME=
PROXY_PASSWORD=

# ==============================================
# LLM APIS (for Agents)
# ==============================================

# OpenAI (GPT-4, GPT-3.5-turbo)
# Get API key from: https://platform.openai.com/api-keys
OPENAI_API_KEY=your_openai_api_key_here
OPENAI_MODEL=gpt-4-turbo-preview

# Anthropic Claude (Claude 3)
# Get API key from: https://console.anthropic.com/
ANTHROPIC_API_KEY=your_anthropic_api_key_here
ANTHROPIC_MODEL=claude-3-sonnet-20240229

# ==============================================
# EMAIL/NOTIFICATIONS (Optional for MVP)
# ==============================================

# SendGrid (Email notifications)
# Get API key from: https://app.sendgrid.com/settings/api_keys
SENDGRID_API_KEY=
SENDGRID_FROM_EMAIL=noreply@yourdomain.com

# Postmark (Alternative to SendGrid)
# Get API key from: https://account.postmarkapp.com/
POSTMARK_SERVER_TOKEN=

# ==============================================
# OAUTH PROVIDERS (Phase 1 - Optional)
# ==============================================

# Google OAuth
# Get credentials from: https://console.cloud.google.com/apis/credentials
OAUTH_GOOGLE_CLIENT_ID=
OAUTH_GOOGLE_CLIENT_SECRET=

# GitHub OAuth (Optional)
# Get credentials from: https://github.com/settings/developers
OAUTH_GITHUB_CLIENT_ID=
OAUTH_GITHUB_CLIENT_SECRET=

# ==============================================
# OBSERVABILITY (Production)
# ==============================================

# Sentry (Error tracking)
# Get DSN from: https://sentry.io/
SENTRY_DSN=
SENTRY_ENVIRONMENT=development

# Log Level
LOG_LEVEL=INFO

# ==============================================
# APPLICATION SETTINGS
# ==============================================

# Environment
ENVIRONMENT=development
# Options: development, staging, production

# URLs
FRONTEND_URL=http://localhost:3000
BACKEND_URL=http://localhost:8000

# App Settings
APP_NAME=TIP
APP_VERSION=1.0.0

# CORS Origins (comma-separated)
CORS_ORIGINS=http://localhost:3000,http://127.0.0.1:3000

# Security
SECRET_KEY=your_secret_key_for_jwt_signing_change_in_production
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(32))"

# Session
SESSION_LIFETIME_HOURS=24

# Rate Limiting
RATE_LIMIT_PER_MINUTE=60

# ==============================================
# DATA RETENTION & GDPR
# ==============================================

# Trip data auto-deletion (days after trip end date)
TRIP_DATA_RETENTION_DAYS=30

# Enable GDPR compliance features
GDPR_ENABLED=true

# ==============================================
# TESTING (Optional)
# ==============================================

# Test Database (if different from main)
TEST_DATABASE_URL=postgresql://postgres:test_password@localhost:5432/tip_test

# Test Redis
TEST_REDIS_URL=redis://localhost:6379/1

# ==============================================
# RENDER DEPLOYMENT (Production)
# ==============================================
# These are set automatically by Render, no need to fill locally

# RENDER=true
# RENDER_SERVICE_NAME=
# RENDER_EXTERNAL_URL=
# RENDER_GIT_COMMIT=

# ==============================================
# NOTES
# ==============================================
# 1. Copy this file to .env: cp .env.example .env
# 2. Fill in your actual API keys and credentials
# 3. NEVER commit .env to version control
# 4. For production, use environment variables in your hosting platform
# 5. Rotate all secrets regularly (especially service role keys)
# 6. Test connectivity with each service after configuration
